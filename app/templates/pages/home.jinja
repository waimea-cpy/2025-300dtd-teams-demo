{#=====================================================
  Home page
  - List of teams passed in as 'teams' array
  - Form for adding a new team
=====================================================#}

{% extends 'pages/base.jinja' %}


{% block title %}

    Team Tracker 6000

{% endblock %}


{% block content %}

    <h1>Teams</h1>


    <article>

        <ul>
            {% for team in teams %}

                <li>
                    <a href="/team/{{ team.code }}">
                        <strong>{{ team.name }}</strong>
                    </a>
                </li>

            {% else %}

                <p>None!</p>

            {% endfor %}
        </ul>

    </article>


    {# Only show form if user is logged in #}
    {% if session.user_id %}

        <article>

            <h3>Add a New Team</h3>

            <form action="/add" method="POST">

                <input
                    type="text"
                    name="code"
                    placeholder="Team code"
                    required
                >

                <input
                    type="text"
                    name="name"
                    placeholder="Team name"
                    required
                >

                <input
                    type="text"
                    name="description"
                    placeholder="Team description"
                    required
                >

                <input
                    type="url"
                    name="website"
                    placeholder="Team website URL"
                    required
                >

                <button>Add Team</button>

            </form>

        </article>

    {% endif %}

{% endblock %}

